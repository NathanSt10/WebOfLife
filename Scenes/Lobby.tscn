[gd_scene load_steps=15 format=3 uid="uid://42gd67j7t7j1"]

[ext_resource type="Script" path="res://Scripts/XRSetup.gd" id="1_ii4n0"]
[ext_resource type="Script" path="res://Scripts/Network/StartServer.gd" id="8_eeqix"]
[ext_resource type="Script" path="res://Scripts/Network/JoinServer.gd" id="9_p161x"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_l026r"]
radius = 0.2
height = 30.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jcndo"]
transparency = 1
albedo_color = Color(1, 1, 0.309804, 0.0352941)
emission_enabled = true
emission = Color(1, 1, 0.52549, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wnt0v"]
radius = 0.2
height = 30.0

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5cj7l"]
sky_top_color = Color(0.384314, 0.454902, 0.713726, 1)
sky_horizon_color = Color(0.556863, 0.654902, 0.670588, 1)
ground_bottom_color = Color(0.258159, 0.431479, 0.176322, 1)
ground_horizon_color = Color(0.243137, 0.427451, 0.337255, 1)
sun_angle_max = 56.26

[sub_resource type="Sky" id="Sky_sqtp2"]
sky_material = SubResource("ProceduralSkyMaterial_5cj7l")

[sub_resource type="Environment" id="Environment_u8y0r"]
background_mode = 2
sky = SubResource("Sky_sqtp2")

[sub_resource type="BoxShape3D" id="BoxShape3D_l7vjb"]
size = Vector3(10000, 0, 10000)

[sub_resource type="SphereMesh" id="SphereMesh_kaxu4"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ch1ve"]
albedo_color = Color(0, 0, 1, 1)

[sub_resource type="SphereShape3D" id="SphereShape3D_sh3ve"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b72ry"]
albedo_color = Color(1, 0.756863, 0, 1)

[node name="Lobby" type="Node3D"]

[node name="Rig" type="XROrigin3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.55686)

[node name="XRCamera3D" type="XRCamera3D" parent="Rig"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7, 0)

[node name="LeftFlashlight" type="XRController3D" parent="Rig"]
tracker = &"left_hand"

[node name="MeshInstance3D" type="MeshInstance3D" parent="Rig/LeftFlashlight"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -15)
mesh = SubResource("CapsuleMesh_l026r")
surface_material_override/0 = SubResource("StandardMaterial3D_jcndo")

[node name="Area3D" type="Area3D" parent="Rig/LeftFlashlight"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Rig/LeftFlashlight/Area3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -15)
shape = SubResource("CapsuleShape3D_wnt0v")

[node name="RightFlashlight" type="XRController3D" parent="Rig"]
tracker = &"right_hand"

[node name="MeshInstance3D" type="MeshInstance3D" parent="Rig/RightFlashlight"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -15)
mesh = SubResource("CapsuleMesh_l026r")
surface_material_override/0 = SubResource("StandardMaterial3D_jcndo")

[node name="Area3D" type="Area3D" parent="Rig/RightFlashlight"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Rig/RightFlashlight/Area3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, -15)
shape = SubResource("CapsuleShape3D_wnt0v")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_u8y0r")
script = ExtResource("1_ii4n0")

[node name="groundPlane" type="StaticBody3D" parent="WorldEnvironment"]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape3D" type="CollisionShape3D" parent="WorldEnvironment/groundPlane"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.01, 0)
shape = SubResource("BoxShape3D_l7vjb")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(0.979099, -0.105669, -0.173781, 0.201736, 0.39595, 0.895839, -0.0258536, -0.912172, 0.408991, 0, 0, 0)

[node name="Host" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0.5, 1)
mesh = SubResource("SphereMesh_kaxu4")
surface_material_override/0 = SubResource("StandardMaterial3D_ch1ve")
script = ExtResource("8_eeqix")

[node name="Area3D" type="Area3D" parent="Host"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Host/Area3D"]
shape = SubResource("SphereShape3D_sh3ve")

[node name="Label3D" type="Label3D" parent="Host"]
transform = Transform3D(0.5, 0, 0.866025, 0, 1, 0, -0.866025, 0, 0.5, 0, 0.75, 0)
text = "Host"

[node name="Join" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 0.5, 1)
mesh = SubResource("SphereMesh_kaxu4")
surface_material_override/0 = SubResource("StandardMaterial3D_b72ry")
script = ExtResource("9_p161x")

[node name="Area3D" type="Area3D" parent="Join"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Join/Area3D"]
shape = SubResource("SphereShape3D_sh3ve")

[node name="Label3D" type="Label3D" parent="Join"]
transform = Transform3D(0.5, 0, -0.866025, 0, 1, 0, 0.866025, 0, 0.5, 0, 0.75, 0)
text = "Join"

[connection signal="area_entered" from="Host/Area3D" to="Host" method="_on_area_3d_area_entered"]
[connection signal="area_shape_entered" from="Host/Area3D" to="Host" method="_on_area_3d_area_shape_entered"]
[connection signal="area_entered" from="Join/Area3D" to="Join" method="_on_area_3d_area_entered"]
[connection signal="area_shape_entered" from="Join/Area3D" to="Join" method="_on_area_3d_area_shape_entered"]
